<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=510">
<link rel="stylesheet" href="/and/style/in/reset.css" type="text/css" />
<link rel="stylesheet" href="/and/style/in/grid.css" type="text/css" />
<link rel="stylesheet" type="text/css" href="/and/style/in/bnf.css" />

<link rel="start" href="/and/" title="Home" />
<link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/and/feed/us/recent_entries.xml" />

<script type="text/javascript" src="/and/scripts/being/jquery-1.11.0.min.js"></script>


<script type="text/javascript" src="/and/scripts/being/scripts.js"></script>
<script type="text/javascript" src="/and/mt.js"></script>
    <title>I like tight pants and downloading funghi, from wikimedia commons</title>


    <meta property="og:title dc:title" content="I like tight pants and downloading funghi, from wikimedia commons"/>
    <meta property="og:type" content="article"/>
    <meta property="og:url" content="http://i.liketightpants.net/and/downloading-funghi"/>
    
    <meta property="og:image" content="http://i.liketightpants.net/and/assets/called/108px-Kleiner_Waldchampignon-1.jpg"/>
    <meta property="og:site_name" content="I like tight pants and mathematics"/>
    <meta property="og:description dc:description"
          content="# print the urls of all the images in a category of Wikimedia Commons
# example:
# $ python get_commons.py &quot;Category:Illustrations_of_fungi&quot;"/>
    <meta property="fb:admins" content="1488294875"/>

    <meta property="mt:entry_basename" content="downloading_funghi" />
    <meta property="dc:modified" content="2012-02-03T19:03:07+01:00" />


</head>
<body>


<div id="header" class="container_7">
  <div class="grid_2">
  <h1><a href="/and/">i . like tight pants . net</a></h1>
  </div>
  <div class="grid_3">
  <ul>

    <li ><a href="/and/finding-red-letterboxes-in-belgium">latest</a></li>
    <li><a href="/and/about">about</a></li>
    <li ><a href="/and/archives">index</a></li>
  </ul>
  </div>
  <div class="grid_2">
  <p class="byline" id="recent_entries">New entries published Monday and Thursday, 22:00 CET (<a href="/and/feed/us/recent_entries.xml">RSS</a>)</p>
  </div>
</div>


<div id="content" class="container_7">

<div class="sidebar grid_1">
  
  <img src="/and/assets/that/are/pictures/of/author/bnf.png" style="width:100px;height:100px;" alt="" />
  
  <h4 class="author" property="dc:created" content="2012-02-03T18:36:40+01:00">February 3, 2012</h4>
  <h4 class="author">by <span property="dc:creator">bnf</span></h4>

  
  <p>&nbsp;</p>
  
  <hr />
  
  <h4>Other articles by bnf</h4>
  <dl>
  
  <dt><a href="/and/ufo2otf-makes-otfs-webfonts-and-css-from-ufo">ufo2otf Makes OTF’s, Webfonts and CSS From UFO’s</a></dt>
  <dd>November 5, 2013 9:57 PM</dd>
  
  <dt><a href="/and/it-might-be-a-unix-sin-but-i-would-like-you-to-add-dot-t-x-t-as-the-extension-of-your-readme-file">It Might Be a Unix Sin But I Would Like You to Add .txt As the Extension of Your README file</a></dt>
  <dd>April 30, 2013 9:51 PM</dd>
  
  <dt><a href="/and/programmatically-manipulating-typefaces">Programmatically manipulating typefaces</a></dt>
  <dd>May 2, 2012 1:43 PM</dd>
  
  <dt><a href="/and/absolute-beginners-unix-for-art-students-part-2">Absolute Beginners: Unix for Art Students – Part 2</a></dt>
  <dd>December 2, 2011 2:16 AM</dd>
  
  <dt><a href="/and/vector-pixels">Vector pixels</a></dt>
  <dd>November 25, 2011 5:14 PM</dd>
  
  </dl>

  <h4>bnf’s comments</h4>
  <ul>
  
    <li>Dear Ned, thanks for your reaction, and the link to ... <a href="/and/hackers-culture-and-the-fear-of-wysiwyg" title="full comment on: Hacker Culture and the Fear of WYSIWYG">read more</a></li>
  
    <li>As a programmer, what I find more worrying is that ... <a href="/and/hackers-culture-and-the-fear-of-wysiwyg" title="full comment on: Hacker Culture and the Fear of WYSIWYG">read more</a></li>
  
    <li>Welcome <a href="/and/hackers-culture-and-the-fear-of-wysiwyg" title="full comment on: Hacker Culture and the Fear of WYSIWYG">read more</a></li>
  
    <li>Comparatively, the offer of WYSIWYG libraries is meagre. Luckily, the ... <a href="/and/hackers-culture-and-the-fear-of-wysiwyg" title="full comment on: Hacker Culture and the Fear of WYSIWYG">read more</a></li>
  
    <li>Good call. So I should add a part to the ... <a href="/and/ufo2otf-makes-otfs-webfonts-and-css-from-ufo" title="full comment on: ufo2otf Makes OTF’s, Webfonts and CSS From UFO’s">read more</a></li>
  
    <li>By the way, a related project (that might make ufo2otf ... <a href="/and/ufo2otf-makes-otfs-webfonts-and-css-from-ufo" title="full comment on: ufo2otf Makes OTF’s, Webfonts and CSS From UFO’s">read more</a></li>
  
    <li>Never mind, I have found a solution more easy still. ... <a href="/and/48-hours-of-writing-stylesheets-with-etherpad-and-a-gong" title="full comment on: 48 Hours of Writing Stylesheets with Etherpad and a Gong">read more</a></li>
  
    <li>In PHP, it would be something like this:&lt;?php header("Content-type: text/css"); ... <a href="/and/48-hours-of-writing-stylesheets-with-etherpad-and-a-gong" title="full comment on: 48 Hours of Writing Stylesheets with Etherpad and a Gong">read more</a></li>
  
    <li>With PHP, there still exists some link between the urls ... <a href="/and/48-hours-of-writing-stylesheets-with-etherpad-and-a-gong" title="full comment on: 48 Hours of Writing Stylesheets with Etherpad and a Gong">read more</a></li>
  
    <li>hh <a href="/and/no-one-starts-from-scratch-type-design-and-the-logic-of-the-fork" title="full comment on: No-one Starts From Scratch: Type Design and the Logic of the Fork">read more</a></li>
  
  </ul>
  <hr />
  
  <h4>Other writers</h4>
  <ul>
  
    <li>glit</li>
  
    <li>jenseits</li>
  
    <li>habitus</li>
  
    <li>tellyou</li>
  
    <li>baseline</li>
  
    <li>bnf</li>
  
  </ul>
    
</div>
<div class="post grid_5">
  <p class="byline">
  <a href="/and/making-unix-programs">Previous</a>
    / <a href="/and/finding-red-letterboxes-in-belgium">Next</a>
  </p>
  <div class="article grid_3 alpha omega suffix_2">
    <h4 property="mt:entry_title">Downloading funghi, from Wikimedia Commons</h4>
    <article  property="mt:entry_id" content="43" class="entry" id="entry-43">
    
    <pre>#!/usr/bin/env python
# print the urls of all the images in a category of Wikimedia Commons
# example:
# $ python get_commons.py "Category:Illustrations_of_fungi"

# pipe to wget for download:
# $ python get_commons.py [category] | wget -i - --wait 1

import sys
import json
import urllib2
from urllib import quote

def make_api_query(category, q_continue=""):
    if q_continue:
        q_continue = '&amp;gcmcontinue=' + q_continue
    url = 'http://commons.wikimedia.org/w/api.php?action=query&amp;generator=categorymembers&amp;gcmtitle=' + category + q_continue + '&amp;gcmlimit=500&amp;prop=imageinfo&amp;iiprop=url&amp;format=json'
    request = json.loads(urllib2.urlopen(url).read())
    if 'error' in request:
        sys.exit(request['error']['info'])
    for page in request['query']['pages'].values():
        try:
            print page['imageinfo'][0]['url']
        except KeyError: pass
    # there is a maximum of 500 results in one request, for paging
    # we use the query-continue value:
    if 'query-continue' in request:
        q_continue = quote(request['query-continue']['categorymembers']['gcmcontinue'])
        make_api_query(category, q_continue)

if __name__ == "__main__":
    if len(sys.argv) != 2:
        sys.exit("usage: python get_commons.py [category]")
    make_api_query(sys.argv[1])</pre>
    <p><a href="/and/get_commons.py">Download</a></p>
    <p>
      <img src="/and/assets/called/funghi.png" style="width:603px;height:390px;" />
    </p>


    </article>
    <h4 class="comments-header">3 Comments</h4>


    
    <div id="comments" class="comments">
    
        <div class="comments-content">
          
            



<div property="mt:comment_id" content="122" id="comment-122" resource="/and/downloading_funghi#comment-122" class="comment">
<div class="comment-editor" property="mt:comment_text">
<p>
We used a variation on this script while creating a <a href="http://schr.fr/radio-panik">design for Radio Panik</a>.
</p>
</div>
<p class="byline" >
  <img src="/and/assets/that/are/pictures/of/author/baseline.png" width="18" height="18" /> 
  by <a property="dc:creator" href="http://i.liketightpants.net/authors#baseline">baseline</a> - <a href="/and/downloading-funghi#comment-122"><span property="dc:created" content="2012-02-03T18:54:02+01:00">February 3, 2012 6:54 PM</span></a><br />
  <a title="Reply" href="javascript:void(0);" onclick="mtReplyCommentOnClick(122, 'baseline')">Reply</a>
</p>
</div>
  <div class="comments-parent-container" style="margin-left: 20px;">
  
  
    










  
  
  </div>



<div property="mt:comment_id" content="123" id="comment-123" resource="/and/downloading_funghi#comment-123" class="comment">
<div class="comment-editor" property="mt:comment_text">
<p>
This is an example of a simple script composed in the Python programming language. <code>print</code> outputs lines to the terminal. there is one command line argument, which is the name of the category the script will retrieve the image files for. If you would just run the python script <code>python get_commons.py Illustrations_of_Mushrooms</code> you would get a line of urls printed to the terminal.

The script was designed to be used in a pipeline with the wget program (which, if you’ve <a href="/and/installing-compilers">installed Homebrew</a>, you can install by typing <code>brew install wget</code>). In the wget program, we specify <code>-i -</code> which means take input from the standard input.
</p>
</div>
<p class="byline" >
  <img src="/and/assets/that/are/pictures/of/author/tellyou.png" width="18" height="18" /> 
  by <a property="dc:creator" href="http://i.liketightpants.net/authors#tellyou">tellyou</a> - <a href="/and/downloading-funghi#comment-123"><span property="dc:created" content="2012-02-03T18:57:20+01:00">February 3, 2012 6:57 PM</span></a><br />
  <a title="Reply" href="javascript:void(0);" onclick="mtReplyCommentOnClick(123, 'tellyou')">Reply</a>
</p>
</div>
  <div class="comments-parent-container" style="margin-left: 20px;">
  
  
    










  
  
  </div>



<div property="mt:comment_id" content="124" id="comment-124" resource="/and/downloading_funghi#comment-124" class="comment">
<div class="comment-editor" property="mt:comment_text">
<p>
The script requests a url that returns list of images, and their properties, in a json format (just like the <a href="/and/absolute-beginners-unix-for-art-students-part-3">twitter api</a> provides). 

The script contains a function that calls a url from the wikipedia api, then extracts the image locations available in the response. If there are more images available then can be displayed at once, wikipedia’s api also returns a new url to query that will provide the next set of images and so on. To handle this, the function that queries wikipedia, checks if such a ‘continue-url’ is present, and if so, calls itself with this url as an argument. 

The fact that a programming function can call itself is rather baffling at first. This is what programmers call recursion.

Python is not optimized for recursion, but there are styles of programming that are built around this concept. Recursion is an appealing analytical trick. I imagine there is some kind of abstraction gland stimulated by paradoxes and self-referential logic tricks<span style="color: rgb(34, 34, 34); font-family: arial, sans-serif; font-size: small; line-height: 16px; background-color: rgb(255, 255, 255);">—</span>a kind of weird sister to sexual excitement. Like the symbols preferred by medieaval alchemists. Jenseits likes circles, spirals and <a href="/and/uroboroses">Oroburouses</a>. 
</p>
</div>
<p class="byline" >
  <img src="/and/assets/that/are/pictures/of/author/habitus.png" width="18" height="18" /> 
  by <a property="dc:creator" href="http://i.liketightpants.net/authors#habitus">habitus</a> - <a href="/and/downloading-funghi#comment-124"><span property="dc:created" content="2012-02-03T19:01:03+01:00">February 3, 2012 7:01 PM</span></a><br />
  <a title="Reply" href="javascript:void(0);" onclick="mtReplyCommentOnClick(124, 'habitus')">Reply</a>
</p>
</div>
  <div class="comments-parent-container" style="margin-left: 20px;">
  
  
    










  
  
  </div>




          
            <a title="Reply" href="#reply">Reply</a>
        </div>
        
        <div class="comments-open" id="comments-open">
            <h4 class="comments-open-header">Leave a comment</h4>
            <div class="comments-open-content">
                <div id="comment-greeting"></div>
                
                    <form method="post" action="http://mt.schr.fr/comments.cgi" name="comments_form" id="comments-form" onsubmit="return mtCommentOnSubmit(this)">
                        <input type="hidden" name="static" value="1" />
                        <input type="hidden" name="entry_id" value="43" />
                        <input type="hidden" name="__lang" value="en" />
                        <input type="hidden" name="parent_id" id="comment-parent-id" />
                        <input type="hidden" name="armor" value="1" />
                        <input type="hidden" name="preview" value="" />
                        <input type="hidden" name="sid" value="" />
                        <div id="comments-open-data">
                            <div id="comment-form-name">
                              <div class="alpha grid_1"><label for="comment-author" class="span-4">Name</label></div>
                                <div class="omega grid_2"><input id="comment-author" name="author" size="30" value="" onfocus="mtCommentFormOnFocus()" /></div>
                            </div>
                            <div id="comment-form-email">
                                <div class="alpha grid_1"><label for="comment-email" class="span-4">Email Address</label></div>
                                <div class="omega grid_2"><input id="comment-email" name="email" size="30" value="" onfocus="mtCommentFormOnFocus()" /></div>
                            </div>
                            <div id="comment-form-url">
                                <div class="alpha grid_1"><label for="comment-url" class="span-4">URL</label></div>
                                <div class="omega grid_2"><input id="comment-url" name="url" size="30" value="" onfocus="mtCommentFormOnFocus()" /></div>
                            </div>
                            <div id="comment-form-remember-me">
                                <input type="checkbox" id="comment-bake-cookie" name="bakecookie" onclick="mtRememberMeOnClick(this)" value="1" accesskey="r" />
                                <label for="comment-bake-cookie">Remember personal info?</label>
                            </div>
                        </div>
                        <div id="comment-form-reply" style="display:none">
                            <input type="checkbox" id="comment-reply" name="comment_reply" value="" onclick="mtSetCommentParentID()" />
                            <label for="comment-reply" id="comment-reply-label"></label>
                        </div>
                        <div id="comments-open-text">
                            <label for="comment-text">Comments</label><br />
                            <p class="byline">For formatting your post, you can use html tags like &lt;p&gt; and &lt;br /&gt;. Whitespace for now is eaten up, like in HTML. we are sorry—we will have a more friendly commenting option in place shortly!</p>
                            <textarea id="comment-text" name="text" rows="15" style="width:100%;" onfocus="mtCommentFormOnFocus()"></textarea>
                        </div>
                        <p class="byline" id="comments-open-license">By submitting your comment, you agree to license it under the <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution Share-Alike license</a>, the same license used for the text of the blog.</p>
                        <div id="comments-open-captcha"></div>
                        <div id="comments-open-footer">
                           <!-- <input type="submit" accesskey="v" name="preview_button" id="comment-preview" value="Preview" onclick="this.form.preview.value='1';" /> -->
                            <input type="submit" accesskey="s" name="post" id="comment-submit" value="Submit" />
                        </div>
                    </form>

                
            </div>
        </div>
    
        <script type="text/javascript">
            mtAttachEvent("load", mtEntryOnLoad);
            mtAttachEvent("unload", mtEntryOnUnload);
        </script>
        
    
    </div><!-- / comments -->
  </div> <!-- / article grid_3 -->
  <hr />
</div> <!-- / post grid_5-->

<div class="sidebar grid_1">
  <h4>Latest articles</h4>
  <dl>
  
  <dt><a href="/and/finding-red-letterboxes-in-belgium">Finding Red Letterboxes In Belgium</a></dt>
  <dd>May 6, 2017 7:45 PM</dd>
  
  <dt><a href="/and/the-underwater-screen-or-lessons-from-wordperfect">The Underwater Screen Or Lessons From Wordperfect      </a></dt>
  <dd>June 10, 2014 8:21 PM</dd>
  
  <dt><a href="/and/hackers-culture-and-the-fear-of-wysiwyg">Hacker Culture and the Fear of WYSIWYG</a></dt>
  <dd>May 23, 2014 1:40 AM</dd>
  
  <dt><a href="/and/graphic-design-is-a-nostalgic-field">      Graphic Design Is A Nostalgic Field     </a></dt>
  <dd>February 19, 2014 8:02 PM</dd>
  
  <dt><a href="/and/who-makes-standards">Who gets to write the web: the power struggles around the standards</a></dt>
  <dd>November 20, 2013 10:08 PM</dd>
  
  <dt><a href="/and/ufo2otf-makes-otfs-webfonts-and-css-from-ufo">ufo2otf Makes OTF’s, Webfonts and CSS From UFO’s</a></dt>
  <dd>November 5, 2013 9:57 PM</dd>
  
  <dt><a href="/and/no-one-starts-from-scratch-type-design-and-the-logic-of-the-fork">No-one Starts From Scratch: Type Design and the Logic of the Fork</a></dt>
  <dd>October 9, 2013 10 PM</dd>
  
  <dt><a href="/and/i-need-my-generic-font-medicine">I Need My Generic Font Medicine</a></dt>
  <dd>October 9, 2013 9:55 PM</dd>
  
  <dt><a href="/and/48-hours-of-writing-stylesheets-with-etherpad-and-a-gong">48 Hours of Writing Stylesheets with Etherpad and a Gong</a></dt>
  <dd>October 8, 2013 10:06 PM</dd>
  
  <dt><a href="/and/release-early-release-often-version-numbers-for-typefaces">Release Early Release Often Version Numbers For Typefaces</a></dt>
  <dd>September 25, 2013 9:53 PM</dd>
  
  </dl>


  <h4>Latest Comments</h4>
  <ul>
  
    <li><strong>Sujon Ahmad:</strong> Keep it up <a href="/and/release-early-release-often-version-numbers-for-typefaces" title="full comment on: Release Early Release Often Version Numbers For Typefaces">read more</a></li>
  
    <li><strong>Carly Durocher:</strong> I really like the stylized penrose triangle would you mind ... <a href="/and/illustration" title="full comment on: Illustration">read more</a></li>
  
    <li><strong>michaël:</strong> The recent evolution of MediaWiki is worth mentioning. One of ... <a href="/and/hackers-culture-and-the-fear-of-wysiwyg" title="full comment on: Hacker Culture and the Fear of WYSIWYG">read more</a></li>
  
    <li><strong>jaromil:</strong> Check the Linux Action Show on Tomb https://www.dyne.org/software/tomb there can ... <a href="/and/hackers-culture-and-the-fear-of-wysiwyg" title="full comment on: Hacker Culture and the Fear of WYSIWYG">read more</a></li>
  
    <li><strong>Ian Hickson:</strong> The member list is the one on the charter (it&#39;s ... <a href="/and/who-makes-standards" title="full comment on: Who gets to write the web: the power struggles around the standards">read more</a></li>
  
    <li><strong>habitus:</strong> Dear Ian, thank you for taking the time to respond. ... <a href="/and/who-makes-standards" title="full comment on: Who gets to write the web: the power struggles around the standards">read more</a></li>
  
    <li><strong>Ian Hickson:</strong> The part about the WHATWG membership is wrong. The WHATWG ... <a href="/and/who-makes-standards" title="full comment on: Who gets to write the web: the power struggles around the standards">read more</a></li>
  
    <li><strong>Erik:</strong> Good points. Also: writing UI is hard. <a href="/and/the-underwater-screen-or-lessons-from-wordperfect" title="full comment on: The Underwater Screen Or Lessons From Wordperfect      ">read more</a></li>
  
    <li><strong>nike shox:</strong> do not want to be t basket vans femme pas ... <a href="/and/no-one-starts-from-scratch-type-design-and-the-logic-of-the-fork" title="full comment on: No-one Starts From Scratch: Type Design and the Logic of the Fork">read more</a></li>
  
    <li><strong>Tolan Blundell:</strong> As someone who&#39;s written a moderately complex CMS from scratch ... <a href="/and/hackers-culture-and-the-fear-of-wysiwyg" title="full comment on: Hacker Culture and the Fear of WYSIWYG">read more</a></li>
  
  </ul>

</div>

</div>
<div id="bar">&nbsp;</div>


<!-- Piwik, Open Source Analytics,
let’s not give Google more data then necessary! Eric -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://var.schr.fr/piwik/" : "http://var.schr.fr/piwik/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
try {
var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 2);
piwikTracker.trackPageView();
piwikTracker.enableLinkTracking();
} catch( err ) {}
</script><noscript><p><img src="http://var.schr.fr/piwik/piwik.php?idsite=2" style="border:0" alt="" /></p></noscript>
<!-- End Piwik Tracking Code -->

<!--[if !(lt IE 8)]><!-->
   <script type="text/javascript">
     (function(){var e=document.createElement("script");e.type="text/javascript";e.async=true;e.src=document.location.protocol+"//d1agz031tafz8n.cloudfront.net/thedaywefightback.js/widget.min.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})()
   </script>
<!--<![endif]-->
</body>
</html>

