<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" href="/and/style/in/style.css" type="text/css" />
<link rel="stylesheet" href="/and/style/in/reset.css" type="text/css" />
<link rel="stylesheet" href="/and/style/in/grid.css" type="text/css" />
<link rel="stylesheet" href="/and/style/in/style.css" type="text/css" />
<link rel="start" href="/and/" title="Home" />
<link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/and/feed/us/recent_entries.xml" />
<script type="text/javascript" src="/and/scripts/being/jquery-1.5.min.js"></script>
<script type="text/javascript" src="/and/scripts/being/jquery.syntaxhighlighter.min.js"></script>
<script type="text/javascript" src="/and/scripts/being/scripts.js"></script>
<script type="text/javascript" src="/and/mt.js"></script>


    <title>I like tight pants and vector pixels</title>
    <link rel="stylesheet" href="/and/style/in/bnf.css" type="text/css" />
    <link rel="prev bookmark" href="/and/we-like-tight-pants-and-mathematics" title="I like tight pants and we like tight pants and mathematics" />
    <link rel="next bookmark" href="/and/absolute-beginners-unix-for-art-students-part-1" title="I like tight pants and absolute beginners: unix for art students – part 1" />
    <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://i.liketightpants.net/and/vector-pixels.html"
    trackback:ping="http://mt.schr.fr/tb.cgi/32"
    dc:title="Vector pixels"
    dc:identifier="http://i.liketightpants.net/and/vector-pixels.html"
    dc:subject="Scripts"
    dc:description="Creating a vector image from a raster image usually consists of imagining some kind of curve, responsible for the pixels. But this is guess work at best. Why don’t we work with what’s actually there—points?"
    dc:creator="bnf"
    dc:date="2011-11-25T17:14:10+01:00" />
</rdf:RDF>
-->

    <meta property="og:title" content="I like tight pants and vector pixels"/>
    <meta property="og:type" content="article"/>
    <meta property="og:url" content="http://i.liketightpants.net/and/vector-pixels"/>
    
    <meta property="og:image" content="http://i.liketightpants.net/and/assets/called/vector_pixel_city.png"/>
    <meta property="og:site_name" content="I like tight pants and mathematics"/>
    <meta property="og:description"
          content="Creating a vector image from a raster image usually consists of imagining some kind of curve, responsible for the pixels. But this is guess work at best. Why don’t we work with what’s actually there—points?"/>
    <meta property="fb:admins" content="1488294875"/>
</head>
<body>
<div id="header" class="container_7">
  <div class="grid_2">
  <h1><a href="/and/">i . like tight pants . net</a></h1>
  </div>
  <div class="grid_3">
  <ul>
    
    
    <li><a href="/and/the-story-of-nokia-microsoft-and-a-1000-hearts-breaking">latest</a></li>
    
    <li><a href="/and/about">about</a></li>
    <li><a href="/and/archives">index</a></li>
  </ul>
  </div>
  <div class="grid_2">
  <p class="byline">New entries published Monday and Thursday, 22:00 CET (<a href="/and/feed/us/recent_entries.xml">RSS</a>)</p><!-- <h4>search box</h4> -->
  </div>
</div>

<div id="content" class="container_7">
<div class="sidebar grid_1">
  
  <img src="http://mt.schr.fr/lib/support/assets_c/userpics/userpic-8-100x100.png?6" width="100" height="100" alt="" />
  
  <h4 class="author">bnf</h4>
  <p>&nbsp;</p>
  
  <hr />
  
  <h4>Other articles by bnf</h4>
  <dl>
  
  
  
  
  
  <dt><a href="/and/it-might-be-a-unix-sin-but-i-would-like-you-to-add-dot-t-x-t-as-the-extension-of-your-readme-file">It Might Be a Unix Sin But I Would Like You to Add .txt As the Extension of Your README file</a></dt>
  <dd>April 30, 2013  9:51 PM</dd>
  
  
  
  
  <dt><a href="/and/programmatically-manipulating-typefaces">Programmatically manipulating typefaces</a></dt>
  <dd>May  2, 2012 12:43 PM</dd>
  
  
  
  
  <dt><a href="/and/downloading-funghi">Downloading funghi, from Wikimedia Commons</a></dt>
  <dd>February  3, 2012  6:36 PM</dd>
  
  
  
  
  <dt><a href="/and/absolute-beginners-unix-for-art-students-part-2">Absolute Beginners: Unix for Art Students – Part 2</a></dt>
  <dd>December  2, 2011  2:16 AM</dd>
  
  
  
  
  
  </dl>

  
  
  <h4>bnf’s Comments</h4>
  <dl>
  
  
  
  </dl>
  
  

  <hr />
  
  <h4>Other writers</h4>
  <ul>
  
    <li>glit</li>
  
    <li>jenseits</li>
  
    <li>habitus</li>
  
    <li>tellyou</li>
  
    <li>baseline</li>
  
    <li>bnf</li>
  
  </ul>
    
</div>
<div class="post grid_5">
  <p class="byline">
  <a href="/and/we-like-tight-pants-and-mathematics">Previous</a> 
  
  
    / <a href="/and/absolute-beginners-unix-for-art-students-part-1">Next</a>
  </p>
  <div>
    <div class="article grid_3 alpha omega suffix_2">
    <h4>Vector pixels</h4>
    <p>
<img src="/and/assets/called/vector_pixel_city_pixels.png" style="width:16px;height:16px;" alt="A stylised image of a skyscraper, in 16 by 16 pixels." title="">
<object type="image/svg+xml" style="width:384px;height:384px;" data="/and/assets/called/vector_pixel_city.svg">
    <img src="/and/assets/called/vector_pixel_city.png" style="width:384px;height:384px;" alt="A stylised image of a skyscraper. The building is made out of square shapes on a 16 by 16 grid. The squares have rounded corners.">
 </object>
</p>

<pre style="">#!/usr/bin/env python
# -*- coding: utf-8 -*-

"""  Turns an image into a two-colored grid of vectorpixels: squares,
circles, or squares with rounded corners.

Creating a vector image from a raster image usually consists of
imagining some kind of curve, responsible for the pixels. But this
is guess work at best. Why don’t we work with what’s actually
there—points?

This script turns an image into a grid of vector squares, circles,
or squares with rounded corners.

usage (command line):

python vectorpixel.py inputimage.png &gt; outputimage.svg

 TODO: allow multi-colour pictures, implement vertical and horiontal scanlines """

import Image
import sys

class Vectorpixel:
    def __init__(self, image):
        self.i = Image.open(image).convert("1")
        self.px = self.i.load()
        self.constructed = False

    def construct(self, grid=24, line=1, rounded=4, test=(lambda x: x == 0)):
        self.grid = grid
        self.line = line
        self.rounded = rounded
        self.width = self.height = self.grid - 2 * self.line
        self.test = test
        self.fill = '#000000'
        self.constructed = True

    def _yieldlocations(self):
        for x in range(self.i.size[0]):
            for y in range(self.i.size[1]):
                if self.test(self.px[x,y]):
                    yield (x,y)

    def _mkelements(self):
        for l in self._yieldlocations():
            yield "&lt;rect x='%s' y='%s' width='%s' height='%s' rx='%s' fill='%s'/&gt;" % (
    self.grid * l[0] + self.line, self.grid * l[1] + self.line, self.width, self.height, self.rounded, self.fill)

    def _format(self):
        output = '&lt;svg xmlns="http://www.w3.org/2000/svg" width="%s" height="%s"&gt;\n' % (self.i.size[0] * self.grid, self.i.size[1] * self.grid)
        for e in self._mkelements():
            output += e
            output += '\n'
        output += '&lt;/svg&gt;'
        return output

    def generate(self):
        if not self.constructed:
            self.construct()
        return self._format()

    
if __name__ == "__main__":
    if len(sys.argv) != 2:
        sys.exit("usage (command line):\npython vectorpixel.py inputimage.png &gt; outputimage.svg")
    v = Vectorpixel(sys.argv[1])
    v.construct()
    print v.generate()<br><br style=""></pre>
<p>Download <a href="/assets/called/vectorpixels.py">vectorpixels.py</a></p>
    <div id="comments" class="comments">





    
<h4 class="comments-header">1 Comment</h4>
<div class="comments-content">
    
     <!-- If comment doesn't have a top-level-parent -->
            
    <div id="comment-151" class="comment">
    This script requires the Python Imaging Library. To install the Python Imaging Library, make sure you have <a href="/and/installing-compilers" rel="nofollow">installed a compiler</a>. Then run:

<pre>sudo easy_install Image</pre>


    <p class="byline">
            <img src="http://mt.schr.fr/lib/support/assets_c/2011/07/graphically-thumb-18x18-4.png" width="18" height="18"  />
          by baseline - <a href="http://i.liketightpants.net/and/vector-pixels.html#comment-151"><abbr class="published" title="2012-02-28T18:38:25+01:00">February 28, 2012  6:38 PM</abbr></a><br />
    <a title="Reply" href="javascript:void(0);" onclick="mtReplyCommentOnClick(151, 'baseline')">Reply</a></p>
    </div>

        
    
    
</div>
    



    
    
    <div class="comments-open" id="comments-open">
        <h4 class="comments-open-header">Leave a comment</h4>
        <div class="comments-open-content">

        
            <div id="comment-greeting"></div>

            <form method="post" action="http://mt.schr.fr/comments.cgi" name="comments_form" id="comments-form" onsubmit="return mtCommentOnSubmit(this)">
                <input type="hidden" name="static" value="1" />
                <input type="hidden" name="entry_id" value="33" />
                <input type="hidden" name="__lang" value="en" />
                <input type="hidden" name="parent_id" value="" id="comment-parent-id" />
                <input type="hidden" name="armor" value="1" />
                <input type="hidden" name="preview" value="" />
                <input type="hidden" name="sid" value="" />
                <div id="comments-open-data">
                    <div id="comment-form-name">
                      <div class="alpha grid_1"><label for="comment-author" class="span-4">Name</label></div>
                        <div class="omega grid_2"><input id="comment-author" name="author" size="30" value="" onfocus="mtCommentFormOnFocus()" /></div>
                    </div>
                    <div id="comment-form-email">
                        <div class="alpha grid_1"><label for="comment-email" class="span-4">Email Address</label></div>
                        <div class="omega grid_2"><input id="comment-email" name="email" size="30" value="" onfocus="mtCommentFormOnFocus()" /></div>
                    </div>
                    <div id="comment-form-url">
                        <div class="alpha grid_1"><label for="comment-url" class="span-4">URL</label></div>
                        <div class="omega grid_2"><input id="comment-url" name="url" size="30" value="" onfocus="mtCommentFormOnFocus()" /></div>
                    </div>
                    <div id="comment-form-remember-me">
                        <input type="checkbox" id="comment-bake-cookie" name="bakecookie" onclick="mtRememberMeOnClick(this)" value="1" accesskey="r" />
                        <label for="comment-bake-cookie">Remember personal info?</label>
                    </div>
                </div>
                <div id="comment-form-reply" style="display:none">
                    <input type="checkbox" id="comment-reply" name="comment_reply" value="" onclick="mtSetCommentParentID()" />
                    <label for="comment-reply" id="comment-reply-label"></label>
                </div>
                <div id="comments-open-text">
                    <label for="comment-text">Comments
                    (You may use HTML tags for style)</label><br />
                    <textarea id="comment-text" name="text" rows="15" style="width:100%;" onfocus="mtCommentFormOnFocus()"></textarea>
                </div>
                <div id="comments-open-captcha"></div>
                <div id="comments-open-footer">
                   <!-- <input type="submit" accesskey="v" name="preview_button" id="comment-preview" value="Preview" onclick="this.form.preview.value='1';" /> -->
                    <input type="submit" accesskey="s" name="post" id="comment-submit" value="Submit" />
                </div>
            </form>


        </div>
    </div>
    <script type="text/javascript">
    <!--
    mtAttachEvent("load", mtEntryOnLoad);
    mtAttachEvent("unload", mtEntryOnUnload);
    //-->
    </script>
    


</div>


    </div>
  </div>
  <hr />

</div>

<div class="sidebar grid_1">
  <h4>Latest articles</h4>
  <dl>
  
  <dt><a href="/and/the-story-of-nokia-microsoft-and-a-1000-hearts-breaking">The Story of Nokia, Microsoft and a 1000 Hearts Breaking</a></dt>
  <dd>September  4, 2013 10:02 PM</dd>
  
  <dt><a href="/and/it-might-be-a-unix-sin-but-i-would-like-you-to-add-dot-t-x-t-as-the-extension-of-your-readme-file">It Might Be a Unix Sin But I Would Like You to Add .txt As the Extension of Your README file</a></dt>
  <dd>April 30, 2013  9:51 PM</dd>
  
  <dt><a href="/and/etherpad-or-the-textarea-is-a-lonely-place">Etherpad Or The Textarea Is A Lonely Place</a></dt>
  <dd>April 22, 2013  9:59 PM</dd>
  
  <dt><a href="/and/the-most-barebones-online-font-editor-possible">The Most Barebones Online Font Editor Possible</a></dt>
  <dd>April 18, 2013  9:59 PM</dd>
  
  <dt><a href="/and/belgian-newspapers">Belgian Newspapers</a></dt>
  <dd>March 29, 2013 10:17 PM</dd>
  
  <dt><a href="/and/parties-in-paris">Parties in Paris</a></dt>
  <dd>September  7, 2012  3:24 PM</dd>
  
  <dt><a href="/and/how-it-has-come-about-that-code-hosting-site-github-offers-visualisations-of-typeface-development">How it Has Come About That Code Hosting Site Github Offers Visualisations of Typeface Development</a></dt>
  <dd>August  4, 2012  8:28 PM</dd>
  
  <dt><a href="/and/figuring-out-fontforge-pythons-representation-of-postscript-curves">Figuring Out Fontforge-Python’s Representation of Postscript Curves</a></dt>
  <dd>June  3, 2012  5:06 PM</dd>
  
  <dt><a href="/and/programmatically-manipulating-typefaces">Programmatically manipulating typefaces</a></dt>
  <dd>May  2, 2012 12:43 PM</dd>
  
  <dt><a href="/and/drawing-logos">Drawing logo’s</a></dt>
  <dd>April 24, 2012  5:06 PM</dd>
  
  </dl>

  <h4>Latest Comments</h4>
        <ul>
        
            <li><strong>baseline:</strong> This script requires the Python Imaging Library. To install the <a href="/and/vector-pixels#comment-151" title="full comment on: Vector pixels">read more</a></li>
        
        </ul>
        
    


</div>
</div>
<div id="bar">&nbsp;</div>
<!-- Piwik, Open Source Analytics,
let’s not give Google more data then necessary! Eric --> 
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://var.schr.fr/piwik/" : "http://var.schr.fr/piwik/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
try {
var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 2);
piwikTracker.trackPageView();
piwikTracker.enableLinkTracking();
} catch( err ) {}
</script><noscript><p><img src="http://var.schr.fr/piwik/piwik.php?idsite=2" style="border:0" alt="" /></p></noscript>
<!-- End Piwik Tracking Code -->
</body>
</html>
